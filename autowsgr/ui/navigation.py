"""UI å¯¼èˆªæ ‘ â€” å£°æ˜å¼é¡µé¢æ‹“æ‰‘ä¸è·¯å¾„æŸ¥æ‰¾ã€‚

æœ¬æ¨¡å—å®šä¹‰æ¸¸æˆå…¨éƒ¨é¡µé¢ä¹‹é—´çš„å¯¼èˆªå…³ç³»ï¼ˆæ ‘å½¢ + è·¨çº§ç›´é€šè¾¹ï¼‰ã€‚
æ ¸å¿ƒæ•°æ®ç»“æ„ä¸ºæœ‰å‘å›¾ ``NAV_GRAPH``ï¼Œæ¯æ¡è¾¹åŒ…å«ï¼š

- **source** / **target** â€” èµ·æ­¢é¡µé¢åç§°
- **click** â€” ç›¸å¯¹åæ ‡ (rx, ry)
- **edge_type** â€” ``"child"`` (çˆ¶å­å…³ç³») / ``"cross"`` (è·¨çº§ç›´é€šè¾¹)

å¯¼èˆªè·¯å¾„æŸ¥æ‰¾:
    ä¸¤é¡µé¢é—´çš„æœ€ä¼˜è·¯å¾„å¯é€šè¿‡ BFS / LCA åœ¨ ``NAV_GRAPH`` ä¸ŠæŸ¥æ‰¾ã€‚
    æ—§ V1 ä»£ç ä½¿ç”¨æ ‘ä¸Š LCA ç®—æ³•å®ç°ï¼ŒV2 ä¿ç•™æ‹“æ‰‘å£°æ˜ä»¥ä¾¿åç»­æ¥å…¥ã€‚

é¡µé¢å‘½åçº¦å®š:
    - ä½¿ç”¨ä¸­æ–‡çŸ­åä¸ ``__init__.py`` ä¸­ ``register_page()`` çš„åç§°ä¸€è‡´ã€‚
    - å¦‚ ``"ä¸»é¡µé¢"``ã€``"åœ°å›¾é¡µé¢"``ã€``"å‡ºå¾å‡†å¤‡"``ã€‚

åæ ‡ä½“ç³»:
    æ‰€æœ‰åæ ‡ä¸ºç›¸å¯¹å€¼ (0.0â€“1.0)ï¼Œç”±æ—§ä»£ç  960Ã—540 ç»å¯¹åæ ‡æ¢ç®—:
    ``rx = x / 960``, ``ry = y / 540``ã€‚

Usage::

    from autowsgr.ui.navigation import NAV_GRAPH, find_path

    path = find_path("ä¸»é¡µé¢", "å»ºé€ é¡µé¢")
    for edge in path:
        ctrl.click(*edge.click)
"""

from __future__ import annotations

import enum
from collections import deque
from dataclasses import dataclass


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# è¾¹ç±»å‹
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


class EdgeType(enum.Enum):
    """å¯¼èˆªè¾¹ç±»å‹ã€‚"""

    CHILD = "child"
    """çˆ¶å­å…³ç³» â€” è¿›å…¥ä¸‹çº§é¡µé¢ã€‚"""

    CROSS = "cross"
    """è·¨çº§å¿«æ·é€šé“ â€” è·³è¿‡ä¸­é—´é¡µé¢ã€‚"""


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# å¯¼èˆªè¾¹
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


@dataclass(frozen=True, slots=True)
class NavEdge:
    """å¯¼èˆªå›¾ä¸­çš„ä¸€æ¡æœ‰å‘è¾¹ã€‚

    Attributes
    ----------
    source:
        å‡ºå‘é¡µé¢åç§°ã€‚
    target:
        åˆ°è¾¾é¡µé¢åç§°ã€‚
    click:
        ç‚¹å‡»åæ ‡ (rx, ry)ï¼Œç›¸å¯¹å€¼ 0.0â€“1.0ã€‚
    edge_type:
        è¾¹ç±»å‹ã€‚
    description:
        äººç±»å¯è¯»æè¿° (å¯é€‰)ã€‚
    """

    source: str
    target: str
    click: tuple[float, float]
    edge_type: EdgeType
    description: str = ""


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# é¡µé¢åç§°å¸¸é‡
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# â”€â”€ ä¸ register_page() ä¸€è‡´ â”€â”€

MAIN_PAGE = "ä¸»é¡µé¢"
MAP_PAGE = "åœ°å›¾é¡µé¢"
BATTLE_PREP = "å‡ºå¾å‡†å¤‡"
SIDEBAR_PAGE = "ä¾§è¾¹æ "
MISSION_PAGE = "ä»»åŠ¡é¡µé¢"
BACKYARD_PAGE = "åé™¢é¡µé¢"
BATH_PAGE = "æµ´å®¤é¡µé¢"
CANTEEN_PAGE = "é£Ÿå ‚é¡µé¢"
CHOOSE_REPAIR_PAGE = "é€‰æ‹©ä¿®ç†é¡µé¢"
BUILD_PAGE = "å»ºé€ é¡µé¢"
INTENSIFY_PAGE = "å¼ºåŒ–é¡µé¢"
FRIEND_PAGE = "å¥½å‹é¡µé¢"

ALL_PAGES: list[str] = [
    MAIN_PAGE,
    MAP_PAGE,
    BATTLE_PREP,
    SIDEBAR_PAGE,
    MISSION_PAGE,
    BACKYARD_PAGE,
    BATH_PAGE,
    CANTEEN_PAGE,
    CHOOSE_REPAIR_PAGE,
    BUILD_PAGE,
    INTENSIFY_PAGE,
    FRIEND_PAGE,
]
"""æ‰€æœ‰å·²å£°æ˜çš„é¡µé¢åç§° (12 ä¸ª)ã€‚

.. note::
    å»ºé€ é¡µé¢å†…çš„æ ‡ç­¾åˆ‡æ¢ (è§£ä½“/å¼€å‘/åºŸå¼ƒ) ç”± ``BuildPage.switch_tab()`` ç®¡ç†ï¼Œ
    å¼ºåŒ–é¡µé¢å†…çš„æ ‡ç­¾åˆ‡æ¢ (æ”¹ä¿®/æŠ€èƒ½) ç”± ``IntensifyPage.switch_tab()`` ç®¡ç†ã€‚
    æ ‡ç­¾ç»„æˆå‘˜ä¸ä½œä¸ºç‹¬ç«‹é¡µé¢å‡ºç°åœ¨å¯¼èˆªå›¾ä¸­ã€‚
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# å¯¼èˆªå›¾ â€” å…¨éƒ¨è¾¹
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

_BACK_TOP_LEFT: tuple[float, float] = (0.022, 0.058)
"""é€šç”¨å·¦ä¸Šè§’å›é€€æŒ‰é’® (â—)ã€‚"""

NAV_GRAPH: list[NavEdge] = [
    # â”€â”€ ä¸»é¡µé¢ â†’ ä¸€çº§å­é¡µé¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    NavEdge(MAIN_PAGE, MAP_PAGE, (0.9375, 0.8889),
            EdgeType.CHILD, "ç‚¹å‡»ã€Œå‡ºå¾ã€"),
    NavEdge(MAIN_PAGE, MISSION_PAGE, (0.6833, 0.8889),
            EdgeType.CHILD, "ç‚¹å‡»ã€Œä»»åŠ¡ã€"),
    NavEdge(MAIN_PAGE, BACKYARD_PAGE, (0.0469, 0.1481),
            EdgeType.CHILD, "ç‚¹å‡»ä¸»é¡µå›¾æ ‡ (åé™¢)"),
    NavEdge(MAIN_PAGE, SIDEBAR_PAGE, (0.0438, 0.8963),
            EdgeType.CHILD, "ç‚¹å‡»å·¦ä¸‹è§’ â‰¡ (ä¾§è¾¹æ )"),

    # â”€â”€ ä¸€çº§å­é¡µé¢ â†’ ä¸»é¡µé¢ (å›é€€) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    NavEdge(MAP_PAGE, MAIN_PAGE, _BACK_TOP_LEFT,
            EdgeType.CHILD, "åœ°å›¾é¡µé¢ â— è¿”å›ä¸»é¡µé¢"),
    NavEdge(MISSION_PAGE, MAIN_PAGE, _BACK_TOP_LEFT,
            EdgeType.CHILD, "ä»»åŠ¡é¡µé¢ â— è¿”å›ä¸»é¡µé¢"),
    NavEdge(BACKYARD_PAGE, MAIN_PAGE, _BACK_TOP_LEFT,
            EdgeType.CHILD, "åé™¢ â— è¿”å›ä¸»é¡µé¢"),
    NavEdge(SIDEBAR_PAGE, MAIN_PAGE, (0.0438, 0.8963),
            EdgeType.CHILD, "ä¾§è¾¹æ  â‰¡ å…³é—­ (åŒä¸€æŒ‰é’®åˆ‡æ¢)"),

    # â”€â”€ åœ°å›¾é¡µé¢ â†’ å‡ºå¾å‡†å¤‡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    #    æ³¨: å®é™…ç‚¹å‡»åæ ‡å–å†³äºç« èŠ‚ä¸­å…·ä½“åœ°å›¾èŠ‚ç‚¹ä½ç½®ï¼Œ
    #    æ­¤å¤„ä»…å£°æ˜æ‹“æ‰‘å…³ç³»ï¼Œclick åæ ‡éœ€ç”± MapPage åŠ¨æ€ç¡®å®šã€‚
    NavEdge(MAP_PAGE, BATTLE_PREP, (0.6250, 0.5556),
            EdgeType.CHILD, "ç‚¹å‡»åœ°å›¾èŠ‚ç‚¹è¿›å…¥å‡ºå¾å‡†å¤‡ (åæ ‡å› å›¾è€Œå¼‚)"),

    # â”€â”€ å‡ºå¾å‡†å¤‡ â†’ åœ°å›¾é¡µé¢ (å›é€€) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    NavEdge(BATTLE_PREP, MAP_PAGE, _BACK_TOP_LEFT,
            EdgeType.CHILD, "å‡ºå¾å‡†å¤‡ â— è¿”å›åœ°å›¾é¡µé¢"),

    # â”€â”€ å‡ºå¾å‡†å¤‡ â†’ æµ´å®¤ (è·¨çº§å¿«æ·é€šé“) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    NavEdge(BATTLE_PREP, BATH_PAGE, (0.875, 0.037),
            EdgeType.CROSS, "å‡ºå¾å‡†å¤‡å³ä¸Šè§’ ğŸ”§ â†’ æµ´å®¤"),

    # â”€â”€ åé™¢ â†’ å­é¡µé¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    NavEdge(BACKYARD_PAGE, BATH_PAGE, (0.3125, 0.3704),
            EdgeType.CHILD, "åé™¢ â†’ æµ´å®¤ (ä¿®ç†èˆ°èˆ¹)"),
    NavEdge(BACKYARD_PAGE, CANTEEN_PAGE, (0.7292, 0.7407),
            EdgeType.CHILD, "åé™¢ â†’ é£Ÿå ‚"),

    # â”€â”€ æµ´å®¤ â†’ å›é€€ / å­é¡µé¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    NavEdge(BATH_PAGE, BACKYARD_PAGE, _BACK_TOP_LEFT,
            EdgeType.CHILD, "æµ´å®¤ â— è¿”å›åé™¢"),
    NavEdge(BATH_PAGE, CHOOSE_REPAIR_PAGE, (0.9375, 0.0556),
            EdgeType.CHILD, "æµ´å®¤ â†’ é€‰æ‹©ä¿®ç†"),
    NavEdge(BATH_PAGE, MAIN_PAGE, _BACK_TOP_LEFT,
            EdgeType.CROSS, "æµ´å®¤ â— ç›´æ¥è¿”å›ä¸»é¡µé¢ (è·¨çº§)"),

    # â”€â”€ é€‰æ‹©ä¿®ç† â†’ æµ´å®¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    NavEdge(CHOOSE_REPAIR_PAGE, BATH_PAGE, _BACK_TOP_LEFT,
            EdgeType.CHILD, "é€‰æ‹©ä¿®ç† â— è¿”å›æµ´å®¤"),

    # â”€â”€ é£Ÿå ‚ â†’ å›é€€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    NavEdge(CANTEEN_PAGE, BACKYARD_PAGE, _BACK_TOP_LEFT,
            EdgeType.CHILD, "é£Ÿå ‚ â— è¿”å›åé™¢"),
    NavEdge(CANTEEN_PAGE, MAIN_PAGE, _BACK_TOP_LEFT,
            EdgeType.CROSS, "é£Ÿå ‚ â— ç›´æ¥è¿”å›ä¸»é¡µé¢ (è·¨çº§)"),

    # â”€â”€ ä¾§è¾¹æ  â†’ å­é¡µé¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    NavEdge(SIDEBAR_PAGE, BUILD_PAGE, (0.1563, 0.3704),
            EdgeType.CHILD, "ä¾§è¾¹æ  â†’ å»ºé€ "),
    NavEdge(SIDEBAR_PAGE, INTENSIFY_PAGE, (0.1563, 0.5000),
            EdgeType.CHILD, "ä¾§è¾¹æ  â†’ å¼ºåŒ–"),
    NavEdge(SIDEBAR_PAGE, FRIEND_PAGE, (0.1563, 0.7593),
            EdgeType.CHILD, "ä¾§è¾¹æ  â†’ å¥½å‹"),

    # â”€â”€ å»ºé€ é¡µé¢ (å« å»ºé€ /è§£ä½“/å¼€å‘/åºŸå¼ƒ æ ‡ç­¾) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    #    æ ‡ç­¾åˆ‡æ¢ç”± BuildPage.switch_tab() ç®¡ç†ï¼Œä¸ä½“ç°åœ¨å¯¼èˆªå›¾ä¸­ã€‚
    NavEdge(BUILD_PAGE, SIDEBAR_PAGE, _BACK_TOP_LEFT,
            EdgeType.CHILD, "å»ºé€ é¡µé¢ â— è¿”å›ä¾§è¾¹æ "),

    # â”€â”€ å¼ºåŒ–é¡µé¢ (å« å¼ºåŒ–/æ”¹ä¿®/æŠ€èƒ½ æ ‡ç­¾) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    #    æ ‡ç­¾åˆ‡æ¢ç”± IntensifyPage.switch_tab() ç®¡ç†ï¼Œä¸ä½“ç°åœ¨å¯¼èˆªå›¾ä¸­ã€‚
    NavEdge(INTENSIFY_PAGE, SIDEBAR_PAGE, _BACK_TOP_LEFT,
            EdgeType.CHILD, "å¼ºåŒ–é¡µé¢ â— è¿”å›ä¾§è¾¹æ "),

    # â”€â”€ å¥½å‹ â†’ ä¾§è¾¹æ  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    NavEdge(FRIEND_PAGE, SIDEBAR_PAGE, _BACK_TOP_LEFT,
            EdgeType.CHILD, "å¥½å‹ â— è¿”å›ä¾§è¾¹æ "),
]
"""å®Œæ•´å¯¼èˆªå›¾ â€” æ‰€æœ‰å·²çŸ¥é¡µé¢é—´çš„æœ‰å‘è¾¹ã€‚

è¾¹ä¸­æ ‡æ³¨ ``TODO`` çš„åæ ‡ä¸ºä¼°è®¡å€¼ï¼Œå¾…å®é™…æ¸¸æˆæˆªå›¾ç¡®è®¤åç²¾ç¡®åŒ–ã€‚
"""


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# æŸ¥æ‰¾è¾…åŠ©
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# æŒ‰ source ç´¢å¼•ï¼Œæ–¹ä¾¿æŸ¥æ‰¾
_adjacency: dict[str, list[NavEdge]] = {}
for _e in NAV_GRAPH:
    _adjacency.setdefault(_e.source, []).append(_e)


def get_edges_from(page: str) -> list[NavEdge]:
    """è·å–ä» ``page`` å‡ºå‘çš„æ‰€æœ‰è¾¹ã€‚"""
    return list(_adjacency.get(page, []))


def find_path(source: str, target: str) -> list[NavEdge] | None:
    """BFS æŸ¥æ‰¾ä» ``source`` åˆ° ``target`` çš„æœ€çŸ­è·¯å¾„ã€‚

    Parameters
    ----------
    source:
        èµ·å§‹é¡µé¢åç§°ã€‚
    target:
        ç›®æ ‡é¡µé¢åç§°ã€‚

    Returns
    -------
    list[NavEdge] | None
        è·¯å¾„ä¸Šçš„è¾¹åˆ—è¡¨ï¼Œä¸å¯è¾¾æ—¶è¿”å› ``None``ã€‚
        å¦‚æœ ``source == target``ï¼Œè¿”å›ç©ºåˆ—è¡¨ã€‚
    """
    if source == target:
        return []

    visited: set[str] = {source}
    queue: deque[tuple[str, list[NavEdge]]] = deque()
    queue.append((source, []))

    while queue:
        current, path = queue.popleft()
        for edge in _adjacency.get(current, []):
            if edge.target in visited:
                continue
            new_path = [*path, edge]
            if edge.target == target:
                return new_path
            visited.add(edge.target)
            queue.append((edge.target, new_path))

    return None


def get_all_pages() -> list[str]:
    """è¿”å›å¯¼èˆªå›¾ä¸­æ¶‰åŠçš„æ‰€æœ‰é¡µé¢åç§° (å»é‡)ã€‚"""
    pages: set[str] = set()
    for edge in NAV_GRAPH:
        pages.add(edge.source)
        pages.add(edge.target)
    return sorted(pages)
